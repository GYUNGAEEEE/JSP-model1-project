![image](https://github.com/GYUNGAEEEE/WebProgramming/assets/158580466/062a658f-2b81-4a9f-8478-9a1bce103f77)# 07-1. \<jsp:include> 액션 태그를 이용한 공통 영역 작성
보통 하나의 웹 사이트를 구성하는 페이지들은 동일한 상단 메뉴, 좌측 메뉴 그리고 하단 푸터를 갖는다.
공통 구성 요소를 모든 JSP 페이지마다 작성한다면 코드 중복이 발생하고, 일부를 수정하려면 모든 페이지를 수정해야 한다.
이럴 때 사용할 수 있는 것이 \<jsp:include> 액션 태그이다.

\<jsp:include> 액션 태그는 위치한 부분에 지정한 페이지를 포함한다. 
\<jsp:include> 액션 태그의 동작 방식은 다음과 같다.

![image](https://github.com/GYUNGAEEEE/WebProgramming/assets/158580466/8407be93-58f3-472c-a500-9f4e638e3ff3)

1. main.jsp가 웹 브라우저의 요청을 받는다.
2. [출력내용 A]를 출력 버퍼에 저장한다.
3. \<jsp:include>가 실행되면 요청 흐름을 sub.jsp로 이동한다.
4. [출력내용 B]를 출력 버퍼에 저장한다.
5. sub.jsp의 실행이 끝나면 요청 흐름이 다시 main.jsp의 \<jsp:include>로 돌아온다.
6. \<jsp:include> 이후 부분인 [출력내용 C]를 출력 버퍼에 저장한다.
7. 출력 버퍼의 내용을 응답 데이터로 전송한다.
## \<jsp:include> 액션 태그 사용법
```jsp
<jsp:include page="포함할페이지" flush="true"/>
```
- page: 포함할 JSP 페이지의 경로를 지정한다.
- flush: 지정한 JSP 페이지를 실행하기 전에 출력 버퍼를 플러시할지 여부를 지정한다.
true이면 출력 버퍼를 플러시하고, false이면 플러시하지 않는다. 기본값은 false이다.

출력 버퍼를 플로시한다는 말은, 3의 시점에 출력 버퍼에 저장된 [출력내용 A]를 플러시한 후 페이지 흐름이 이동한다는 것을 의미한다.
출력 버퍼를 플러시하면 응답 상태 코드와 HTTP 응답 헤더가 웹 브라우저에 함께 전송되기 때문에, 
이후로 새로운 헤더 정보를 추가(response.setHeader() 등)해도 반영되지 않게 된다.
